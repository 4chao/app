var e=Object.defineProperty,i=Object.defineProperties,t=Object.getOwnPropertyDescriptors,o=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,u=(i,t,o)=>t in i?e(i,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):i[t]=o;import{Z as a,O as r,_ as c,a0 as s,o as p,c as d,w as f,x as h,i as m,n as g,q as y,C as b,s as x,B as v,a1 as S,H as w,J as k,k as _,r as $,I as C,j as I,K as V,F as N,d as z,W as B,t as T,e as U,f as j,l as P,a2 as q,h as R,a3 as K,a4 as O}from"./index.f3870f09.js";import{_ as F,a as E}from"./sys.700e42ca.js";var D={props:{seconds:{type:[String,Number],default:a.props.code.seconds},startText:{type:String,default:a.props.code.startText},changeText:{type:String,default:a.props.code.changeText},endText:{type:String,default:a.props.code.endText},keepRunning:{type:Boolean,default:a.props.code.keepRunning},uniqueKey:{type:String,default:a.props.code.uniqueKey}}};var H=F({name:"u-code",mixins:[a.mpMixin,a.mixin,D],data(){return{secNum:this.seconds,timer:null,canGetCode:!0}},mounted(){this.checkKeepRunning()},watch:{seconds:{immediate:!0,handler(e){this.secNum=e}}},methods:{checkKeepRunning(){let e=Number(r(this.uniqueKey+"_$uCountDownTimestamp"));if(!e)return this.changeEvent(this.startText);let i=Math.floor(+new Date/1e3);this.keepRunning&&e&&e>i?(this.secNum=e-i,c(this.uniqueKey+"_$uCountDownTimestamp"),this.start()):this.changeEvent(this.startText)},start(){this.timer&&(clearInterval(this.timer),this.timer=null),this.$emit("start"),this.canGetCode=!1,this.changeEvent(this.changeText.replace(/x|X/,this.secNum)),this.setTimeToStorage(),this.timer=setInterval((()=>{--this.secNum?this.changeEvent(this.changeText.replace(/x|X/,this.secNum)):(clearInterval(this.timer),this.timer=null,this.changeEvent(this.endText),this.secNum=this.seconds,this.$emit("end"),this.canGetCode=!0)}),1e3)},reset(){this.canGetCode=!0,clearInterval(this.timer),this.secNum=this.seconds,this.changeEvent(this.endText)},changeEvent(e){this.$emit("change",e)},setTimeToStorage(){if(this.keepRunning&&this.timer&&this.secNum>0&&this.secNum<=this.seconds){let e=Math.floor(+new Date/1e3);s({key:this.uniqueKey+"_$uCountDownTimestamp",data:e+Number(this.secNum)})}}},beforeUnmount(){this.setTimeToStorage(),clearTimeout(this.timer),this.timer=null}},[["render",function(e,i,t,o,n,l){const u=m;return p(),d(u,{class:"u-code"},{default:f((()=>[h(" 此组件功能由js完成，无需写html逻辑 ")])),_:1})}],["__scopeId","data-v-45cb7e41"]]),L={"uicon-level":"","uicon-column-line":"","uicon-checkbox-mark":"","uicon-folder":"","uicon-movie":"","uicon-star-fill":"","uicon-star":"","uicon-phone-fill":"","uicon-phone":"","uicon-apple-fill":"","uicon-chrome-circle-fill":"","uicon-backspace":"","uicon-attach":"","uicon-cut":"","uicon-empty-car":"","uicon-empty-coupon":"","uicon-empty-address":"","uicon-empty-favor":"","uicon-empty-permission":"","uicon-empty-news":"","uicon-empty-search":"","uicon-github-circle-fill":"","uicon-rmb":"","uicon-person-delete-fill":"","uicon-reload":"","uicon-order":"","uicon-server-man":"","uicon-search":"","uicon-fingerprint":"","uicon-more-dot-fill":"","uicon-scan":"","uicon-share-square":"","uicon-map":"","uicon-map-fill":"","uicon-tags":"","uicon-tags-fill":"","uicon-bookmark-fill":"","uicon-bookmark":"","uicon-eye":"","uicon-eye-fill":"","uicon-mic":"","uicon-mic-off":"","uicon-calendar":"","uicon-calendar-fill":"","uicon-trash":"","uicon-trash-fill":"","uicon-play-left":"","uicon-play-right":"","uicon-minus":"","uicon-plus":"","uicon-info":"","uicon-info-circle":"","uicon-info-circle-fill":"","uicon-question":"","uicon-error":"","uicon-close":"","uicon-checkmark":"","uicon-android-circle-fill":"","uicon-android-fill":"","uicon-ie":"","uicon-IE-circle-fill":"","uicon-google":"","uicon-google-circle-fill":"","uicon-setting-fill":"","uicon-setting":"","uicon-minus-square-fill":"","uicon-plus-square-fill":"","uicon-heart":"","uicon-heart-fill":"","uicon-camera":"","uicon-camera-fill":"","uicon-more-circle":"","uicon-more-circle-fill":"","uicon-chat":"","uicon-chat-fill":"","uicon-bag-fill":"","uicon-bag":"","uicon-error-circle-fill":"","uicon-error-circle":"","uicon-close-circle":"","uicon-close-circle-fill":"","uicon-checkmark-circle":"","uicon-checkmark-circle-fill":"","uicon-question-circle-fill":"","uicon-question-circle":"","uicon-share":"","uicon-share-fill":"","uicon-shopping-cart":"","uicon-shopping-cart-fill":"","uicon-bell":"","uicon-bell-fill":"","uicon-list":"","uicon-list-dot":"","uicon-zhihu":"","uicon-zhihu-circle-fill":"","uicon-zhifubao":"","uicon-zhifubao-circle-fill":"","uicon-weixin-circle-fill":"","uicon-weixin-fill":"","uicon-twitter-circle-fill":"","uicon-twitter":"","uicon-taobao-circle-fill":"","uicon-taobao":"","uicon-weibo-circle-fill":"","uicon-weibo":"","uicon-qq-fill":"","uicon-qq-circle-fill":"","uicon-moments-circel-fill":"","uicon-moments":"","uicon-qzone":"","uicon-qzone-circle-fill":"","uicon-baidu-circle-fill":"","uicon-baidu":"","uicon-facebook-circle-fill":"","uicon-facebook":"","uicon-car":"","uicon-car-fill":"","uicon-warning-fill":"","uicon-warning":"","uicon-clock-fill":"","uicon-clock":"","uicon-edit-pen":"","uicon-edit-pen-fill":"","uicon-email":"","uicon-email-fill":"","uicon-minus-circle":"","uicon-minus-circle-fill":"","uicon-plus-circle":"","uicon-plus-circle-fill":"","uicon-file-text":"","uicon-file-text-fill":"","uicon-pushpin":"","uicon-pushpin-fill":"","uicon-grid":"","uicon-grid-fill":"","uicon-play-circle":"","uicon-play-circle-fill":"","uicon-pause-circle-fill":"","uicon-pause":"","uicon-pause-circle":"","uicon-eye-off":"","uicon-eye-off-outline":"","uicon-gift-fill":"","uicon-gift":"","uicon-rmb-circle-fill":"","uicon-rmb-circle":"","uicon-kefu-ermai":"","uicon-server-fill":"","uicon-coupon-fill":"","uicon-coupon":"","uicon-integral":"","uicon-integral-fill":"","uicon-home-fill":"","uicon-home":"","uicon-hourglass-half-fill":"","uicon-hourglass":"","uicon-account":"","uicon-plus-people-fill":"","uicon-minus-people-fill":"","uicon-account-fill":"","uicon-thumb-down-fill":"","uicon-thumb-down":"","uicon-thumb-up":"","uicon-thumb-up-fill":"","uicon-lock-fill":"","uicon-lock-open":"","uicon-lock-opened-fill":"","uicon-lock":"","uicon-red-packet-fill":"","uicon-photo-fill":"","uicon-photo":"","uicon-volume-off-fill":"","uicon-volume-off":"","uicon-volume-fill":"","uicon-volume":"","uicon-red-packet":"","uicon-download":"","uicon-arrow-up-fill":"","uicon-arrow-down-fill":"","uicon-play-left-fill":"","uicon-play-right-fill":"","uicon-rewind-left-fill":"","uicon-rewind-right-fill":"","uicon-arrow-downward":"","uicon-arrow-leftward":"","uicon-arrow-rightward":"","uicon-arrow-upward":"","uicon-arrow-down":"","uicon-arrow-right":"","uicon-arrow-left":"","uicon-arrow-up":"","uicon-skip-back-left":"","uicon-skip-forward-right":"","uicon-rewind-right":"","uicon-rewind-left":"","uicon-arrow-right-double":"","uicon-arrow-left-double":"","uicon-wifi-off":"","uicon-wifi":"","uicon-empty-data":"","uicon-empty-history":"","uicon-empty-list":"","uicon-empty-page":"","uicon-empty-order":"","uicon-man":"","uicon-woman":"","uicon-man-add":"","uicon-man-add-fill":"","uicon-man-delete":"","uicon-man-delete-fill":"","uicon-zh":"","uicon-en":""},A={props:{name:{type:String,default:a.props.icon.name},color:{type:String,default:a.props.icon.color},size:{type:[String,Number],default:a.props.icon.size},bold:{type:Boolean,default:a.props.icon.bold},index:{type:[String,Number],default:a.props.icon.index},hoverClass:{type:String,default:a.props.icon.hoverClass},customPrefix:{type:String,default:a.props.icon.customPrefix},label:{type:[String,Number],default:a.props.icon.label},labelPos:{type:String,default:a.props.icon.labelPos},labelSize:{type:[String,Number],default:a.props.icon.labelSize},labelColor:{type:String,default:a.props.icon.labelColor},space:{type:[String,Number],default:a.props.icon.space},imgMode:{type:String,default:a.props.icon.imgMode},width:{type:[String,Number],default:a.props.icon.width},height:{type:[String,Number],default:a.props.icon.height},top:{type:[String,Number],default:a.props.icon.top},stop:{type:Boolean,default:a.props.icon.stop}}};var M=F({name:"u-icon",data:()=>({}),mixins:[a.mpMixin,a.mixin,A],computed:{uClasses(){let e=[];return e.push(this.customPrefix+"-"+this.name),this.color&&uni.$u.config.type.includes(this.color)&&e.push("u-icon__icon--"+this.color),e},iconStyle(){let e={};return e={fontSize:uni.$u.addUnit(this.size),lineHeight:uni.$u.addUnit(this.size),fontWeight:this.bold?"bold":"normal",top:uni.$u.addUnit(this.top)},this.color&&!uni.$u.config.type.includes(this.color)&&(e.color=this.color),e},isImg(){return-1!==this.name.indexOf("/")},imgStyle(){let e={};return e.width=this.width?uni.$u.addUnit(this.width):uni.$u.addUnit(this.size),e.height=this.height?uni.$u.addUnit(this.height):uni.$u.addUnit(this.size),e},icon(){return L["uicon-"+this.name]||this.name}},methods:{clickHandler(e){this.$emit("click",this.index),this.stop&&this.preventEvent(e)}}},[["render",function(e,i,t,o,n,l){const u=v,a=S,r=m;return p(),d(r,{class:y(["u-icon",["u-icon--"+e.labelPos]]),onClick:l.clickHandler},{default:f((()=>[l.isImg?(p(),d(u,{key:0,class:"u-icon__img",src:e.name,mode:e.imgMode,style:g([l.imgStyle,e.$u.addStyle(e.customStyle)])},null,8,["src","mode","style"])):(p(),d(a,{key:1,class:y(["u-icon__icon",l.uClasses]),style:g([l.iconStyle,e.$u.addStyle(e.customStyle)]),"hover-class":e.hoverClass},{default:f((()=>[b(x(l.icon),1)])),_:1},8,["class","style","hover-class"])),h(' 这里进行空字符串判断，如果仅仅是v-if="label"，可能会出现传递0的时候，结果也无法显示 '),""!==e.label?(p(),d(a,{key:2,class:"u-icon__label",style:g({color:e.labelColor,fontSize:e.$u.addUnit(e.labelSize),marginLeft:"right"==e.labelPos?e.$u.addUnit(e.space):0,marginTop:"bottom"==e.labelPos?e.$u.addUnit(e.space):0,marginRight:"left"==e.labelPos?e.$u.addUnit(e.space):0,marginBottom:"top"==e.labelPos?e.$u.addUnit(e.space):0})},{default:f((()=>[b(x(e.label),1)])),_:1},8,["style"])):h("v-if",!0)])),_:1},8,["onClick","class"])}],["__scopeId","data-v-8559748a"]]),W={computed:{value(){return this.modelValue}},props:{modelValue:{type:[String,Number],default:a.props.input.value},type:{type:String,default:a.props.input.type},fixed:{type:Boolean,default:a.props.input.fixed},disabled:{type:Boolean,default:a.props.input.disabled},disabledColor:{type:String,default:a.props.input.disabledColor},clearable:{type:Boolean,default:a.props.input.clearable},password:{type:Boolean,default:a.props.input.password},maxlength:{type:[String,Number],default:a.props.input.maxlength},placeholder:{type:String,default:a.props.input.placeholder},placeholderClass:{type:String,default:a.props.input.placeholderClass},placeholderStyle:{type:[String,Object],default:a.props.input.placeholderStyle},showWordLimit:{type:Boolean,default:a.props.input.showWordLimit},confirmType:{type:String,default:a.props.input.confirmType},confirmHold:{type:Boolean,default:a.props.input.confirmHold},holdKeyboard:{type:Boolean,default:a.props.input.holdKeyboard},focus:{type:Boolean,default:a.props.input.focus},autoBlur:{type:Boolean,default:a.props.input.autoBlur},disableDefaultPadding:{type:Boolean,default:a.props.input.disableDefaultPadding},cursor:{type:[String,Number],default:a.props.input.cursor},cursorSpacing:{type:[String,Number],default:a.props.input.cursorSpacing},selectionStart:{type:[String,Number],default:a.props.input.selectionStart},selectionEnd:{type:[String,Number],default:a.props.input.selectionEnd},adjustPosition:{type:Boolean,default:a.props.input.adjustPosition},inputAlign:{type:String,default:a.props.input.inputAlign},fontSize:{type:[String,Number],default:a.props.input.fontSize},color:{type:String,default:a.props.input.color},prefixIcon:{type:String,default:a.props.input.prefixIcon},prefixIconStyle:{type:[String,Object],default:a.props.input.prefixIconStyle},suffixIcon:{type:String,default:a.props.input.suffixIcon},suffixIconStyle:{type:[String,Object],default:a.props.input.suffixIconStyle},border:{type:String,default:a.props.input.border},readonly:{type:Boolean,default:a.props.input.readonly},shape:{type:String,default:a.props.input.shape},formatter:{type:[Function,null],default:a.props.input.formatter}}};var G=F({name:"u-input",mixins:[a.mpMixin,a.mixin,W],data:()=>({innerValue:"",focused:!1,firstChange:!0,changeFromInner:!1,innerFormatter:e=>e}),watch:{value:{immediate:!0,handler(e,i){this.innerValue=e,!1===this.firstChange&&!1===this.changeFromInner&&this.valueChange(),this.firstChange=!1,this.changeFromInner=!1}}},computed:{isShowClear(){const{clearable:e,readonly:i,focused:t,innerValue:o}=this;return!!e&&!i&&!!t&&""!==o},inputClass(){let e=[],{border:i,disabled:t,shape:o}=this;return"surround"===i&&(e=e.concat(["u-border","u-input--radius"])),e.push(`u-input--${o}`),"bottom"===i&&(e=e.concat(["u-border-bottom","u-input--no-radius"])),e.join(" ")},wrapperStyle(){const e={};return this.disabled&&(e.backgroundColor=this.disabledColor),"none"===this.border?e.padding="0":(e.paddingTop="6px",e.paddingBottom="6px",e.paddingLeft="9px",e.paddingRight="9px"),uni.$u.deepMerge(e,uni.$u.addStyle(this.customStyle))},inputStyle(){return{color:this.color,fontSize:uni.$u.addUnit(this.fontSize),textAlign:this.inputAlign}}},methods:{setFormatter(e){this.innerFormatter=e},onInput(e){let{value:i=""}=e.detail||{};const t=(this.formatter||this.innerFormatter)(i);this.innerValue=i,this.$nextTick((()=>{this.innerValue=t,this.valueChange()}))},onBlur(e){this.$emit("blur",e.detail.value),uni.$u.sleep(50).then((()=>{this.focused=!1})),uni.$u.formValidate(this,"blur")},onFocus(e){this.focused=!0,this.$emit("focus")},onConfirm(e){this.$emit("confirm",this.innerValue)},onkeyboardheightchange(){this.$emit("keyboardheightchange")},valueChange(){const e=this.innerValue;this.$nextTick((()=>{this.$emit("update:modelValue",e),this.changeFromInner=!0,this.$emit("change",e),uni.$u.formValidate(this,"change")}))},onClear(){this.innerValue="",this.$nextTick((()=>{this.valueChange(),this.$emit("clear")}))},clickHandler(){}}},[["render",function(e,i,t,o,n,l){const u=w(k("u-icon"),M),a=m,r=C;return p(),d(a,{class:y(["u-input",l.inputClass]),style:g([l.wrapperStyle])},{default:f((()=>[_(a,{class:"u-input__content"},{default:f((()=>[e.prefixIcon||e.$slots.prefix?(p(),d(a,{key:0,class:"u-input__content__prefix-icon"},{default:f((()=>[$(e.$slots,"prefix",{},(()=>[_(u,{name:e.prefixIcon,size:"18",customStyle:e.prefixIconStyle},null,8,["name","customStyle"])]),!0)])),_:3})):h("v-if",!0),_(a,{class:"u-input__content__field-wrapper",onClick:l.clickHandler},{default:f((()=>[h(" 根据uni-app的input组件文档，H5和APP中只要声明了password参数(无论true还是false)，type均失效，此时\n\t\t\t\t\t为了防止type=number时，又存在password属性，type无效，此时需要设置password为undefined\n\t\t\t\t "),_(r,{class:"u-input__content__field-wrapper__field",style:g([l.inputStyle]),type:e.type,focus:e.focus,cursor:e.cursor,value:n.innerValue,"auto-blur":e.autoBlur,disabled:e.disabled||e.readonly,maxlength:e.maxlength,placeholder:e.placeholder,"placeholder-style":e.placeholderStyle,"placeholder-class":e.placeholderClass,"confirm-type":e.confirmType,"confirm-hold":e.confirmHold,"hold-keyboard":e.holdKeyboard,"cursor-spacing":e.cursorSpacing,"adjust-position":e.adjustPosition,"selection-end":e.selectionEnd,"selection-start":e.selectionStart,password:e.password||"password"===e.type||void 0,onInput:l.onInput,onBlur:l.onBlur,onFocus:l.onFocus,onConfirm:l.onConfirm,onKeyboardheightchange:l.onkeyboardheightchange},null,8,["style","type","focus","cursor","value","auto-blur","disabled","maxlength","placeholder","placeholder-style","placeholder-class","confirm-type","confirm-hold","hold-keyboard","cursor-spacing","adjust-position","selection-end","selection-start","password","onInput","onBlur","onFocus","onConfirm","onKeyboardheightchange"])])),_:1},8,["onClick"]),l.isShowClear?(p(),d(a,{key:1,class:"u-input__content__clear",onClick:l.onClear},{default:f((()=>[_(u,{name:"close",size:"11",color:"#ffffff",customStyle:"line-height: 12px"})])),_:1},8,["onClick"])):h("v-if",!0),e.suffixIcon||e.$slots.suffix?(p(),d(a,{key:2,class:"u-input__content__subfix-icon"},{default:f((()=>[$(e.$slots,"suffix",{},(()=>[_(u,{name:e.suffixIcon,size:"18",customStyle:e.suffixIconStyle},null,8,["name","customStyle"])]),!0)])),_:3})):h("v-if",!0)])),_:3})])),_:3},8,["class","style"])}],["__scopeId","data-v-b4b00998"]]),X={computed:{value(){return this.modelValue}},props:{maxlength:{type:[String,Number],default:a.props.codeInput.maxlength},dot:{type:Boolean,default:a.props.codeInput.dot},mode:{type:String,default:a.props.codeInput.mode},hairline:{type:Boolean,default:a.props.codeInput.hairline},space:{type:[String,Number],default:a.props.codeInput.space},modelValue:{type:[String,Number],default:a.props.codeInput.value},focus:{type:Boolean,default:a.props.codeInput.focus},bold:{type:Boolean,default:a.props.codeInput.bold},color:{type:String,default:a.props.codeInput.color},fontSize:{type:[String,Number],default:a.props.codeInput.fontSize},size:{type:[String,Number],default:a.props.codeInput.size},disabledKeyboard:{type:Boolean,default:a.props.codeInput.disabledKeyboard},borderColor:{type:String,default:a.props.codeInput.borderColor},disabledDot:{type:Boolean,default:a.props.codeInput.disabledDot}}};var J=F({name:"u-code-input",mixins:[a.mpMixin,a.mixin,X],data:()=>({inputValue:""}),watch:{value:{immediate:!0,handler(e){this.inputValue=String(e).substring(0,this.maxlength)}}},computed:{codeLength(){return new Array(Number(this.maxlength))},itemStyle(){return e=>{const i=uni.$u.addUnit,t={width:i(this.size),height:i(this.size)};return"box"===this.mode&&(t.border=`${this.hairline?.5:1}px solid ${this.borderColor}`,0===uni.$u.getPx(this.space)&&(0===e&&(t.borderTopLeftRadius="3px",t.borderBottomLeftRadius="3px"),e===this.codeLength.length-1&&(t.borderTopRightRadius="3px",t.borderBottomRightRadius="3px"),e!==this.codeLength.length-1&&(t.borderRight="none"))),e!==this.codeLength.length-1?t.marginRight=i(this.space):t.marginRight=0,t}},codeArray(){return String(this.inputValue).split("")},lineStyle(){const e={};return e.height=this.hairline?"2px":"4px",e.width=uni.$u.addUnit(this.size),e.backgroundColor=this.borderColor,e}},methods:{inputHandler(e){const i=e.detail.value;this.inputValue=i,this.disabledDot&&this.$nextTick((()=>{this.inputValue=i.replace(".","")})),this.$emit("change",i),this.$emit("update:modelValue",i),String(i).length>=Number(this.maxlength)&&this.$emit("finish",i)}}},[["render",function(e,i,t,o,n,l){const u=m,a=S,r=C;return p(),d(u,{class:"u-code-input"},{default:f((()=>[(p(!0),I(N,null,V(l.codeLength,((i,t)=>(p(),d(u,{class:"u-code-input__item",style:g([l.itemStyle(t)]),key:t},{default:f((()=>[e.dot&&l.codeArray.length>t?(p(),d(u,{key:0,class:"u-code-input__item__dot"})):(p(),d(a,{key:1,style:g({fontSize:e.$u.addUnit(e.fontSize),fontWeight:e.bold?"bold":"normal",color:e.color})},{default:f((()=>[b(x(l.codeArray[t]),1)])),_:2},1032,["style"])),"line"===e.mode?(p(),d(u,{key:2,class:"u-code-input__item__line",style:g([l.lineStyle])},null,8,["style"])):h("v-if",!0)])),_:2},1032,["style"])))),128)),_(r,{disabled:e.disabledKeyboard,type:"number",focus:e.focus,value:n.inputValue,maxlength:e.maxlength,class:"u-code-input__input",onInput:l.inputHandler,style:g({height:e.$u.addUnit(e.size)})},null,8,["disabled","focus","value","maxlength","onInput","style"])])),_:1})}],["__scopeId","data-v-b23741ca"]]);const Z=z((Q=((e,i)=>{for(var t in i||(i={}))n.call(i,t)&&u(e,t,i[t]);if(o)for(var t of o(i))l.call(i,t)&&u(e,t,i[t]);return e})({},{methods:{getCode(e){return e?this.$refs.uCode.canGetCode?(q({title:"正在获取验证码"}),void R.api.VerificationCode({email:e}).then((()=>(K(),this.$refs.uCode.start()))).catch((()=>(K(),uni.$u.toast("获取失败,请稍后重试"))))):uni.$u.toast("倒计时结束后再发送"):uni.$u.toast("请输入邮箱")}}}),i(Q,t({setup(e){const i=B();T(i,"data");let t=U(!0),o=U(""),n=U(""),l=U(""),u=U(""),a=U(""),r=U(""),c=U(!1);j((()=>O({title:t.value?"登录":"注册"})));let s=U(5),m=U("");async function g(){if(!c.value)return uni.$u.toast("请先阅读并同意服务条款");if(t.value){if(!o.value)return uni.$u.toast("请输入账号");if(!u.value)return uni.$u.toast("请输入密码");await R.User.login({account:o.value,password:u.value,auth_type:"PASSWORD"}),R.back()}else{if(!a.value)return uni.$u.toast("请输入用户名");if(!n.value)return uni.$u.toast("请输入邮箱");if(!u.value)return uni.$u.toast("请输入密码");if(!r.value)return uni.$u.toast("请重复输入密码");if(u.value!==r.value)return uni.$u.toast("两次密码不一致");if(!l.value)return uni.$u.toast("请输入验证码");await R.User.register({account:n.value,code:Number(l.value),username:a.value,password:u.value})}}return(e,i)=>{const b=w(k("u-code"),H),v=w(k("u-input"),G),S=w(k("u-code-input"),J),$=w(k("sys"),E);return p(),d($,null,{default:f((()=>[_(b,{ref:"uCode",seconds:s.value,onChange:i[0]||(i[0]=e=>m.value=e)},null,8,["seconds"]),P("div",{"flex-center":""},[P("div",{thin:"",mt2xl:"",mb5xl:"",w640:""},[P("div",{py:"",pl:"","bg-hex-f6f8fa":"",flex:""},[P("div",{"flex-1":""},[P("div",{"text-35":"","text-bold":""},"欢迎来到思潮"),P("div",{pysm:"","text-23":""},[P("div",{"flex-center":"","justify-start":""},[P("div",{w10:"",h10:"",mrxs:"","i-ri-checkbox-blank-circle-fill":""}),P("span",null,"请先阅读:")]),P("div",{"ml-50":"",mtxs:""},[P("div",{"text-hex-1989C8":""},"《思潮用户服务协议》"),P("div",{"text-hex-1989C8":""},"《思潮隐私声明》")])]),P("div",{mtsm:"","flex-center":"","justify-start":"",onClick:i[1]||(i[1]=e=>c.value=!c.value)},[P("div",{class:y(["radio",{checked:c.value}])},null,2),P("div",{"text-23":""},"我已阅读并同意上述服务条款")])]),P("div",{w1:"",h100:"","bg-hex-929292":"","self-end":"",mbxlsm:""}),P("div",{"flex-center-col":"",pxlg:"","justify-between":"",onClick:i[2]||(i[2]=e=>t.value=!t.value)},[P("div",null,"logo"),t.value?(p(),I("div",{key:0,"flex-center-col":""},[P("span",{mbxs:"","text-gray":"","text-20":""},"还没有账号?"),P("span",{"text-hex-1989C8":"","text-27":""},"点此注册")])):(p(),I("div",{key:1,"flex-center-col":""},[P("span",{mbxs:"","text-gray":"","text-20":""},"已拥有账号?"),P("span",{"text-hex-1989C8":"","text-27":""},"点此登录")]))])]),P("div",{ptlg:"",pxxl:""},[t.value?(p(),I("div",{key:0,mblg:""},[P("div",{"text-25":"",mb4:""},"手机号 / 邮箱 / 用户名"),_(v,{modelValue:o.value,"onUpdate:modelValue":i[3]||(i[3]=e=>o.value=e)},null,8,["modelValue"])])):h("v-if",!0),t.value?h("v-if",!0):(p(),I("div",{key:1,mblg:""},[P("div",{"text-25":"",mb4:""},"用户名"),_(v,{modelValue:a.value,"onUpdate:modelValue":i[4]||(i[4]=e=>a.value=e)},null,8,["modelValue"])])),t.value?h("v-if",!0):(p(),I("div",{key:2,mblg:""},[P("div",{"text-25":"",mb4:""},"邮箱"),P("div",{"flex-center":"","justify-end":""},[_(v,{modelValue:n.value,"onUpdate:modelValue":i[6]||(i[6]=e=>n.value=e)},{suffix:f((()=>[P("div",{h50:"",w180:"",pyxs:"","bg-hex-f6f8fa":"","text-hex-6991c7":"","flex-center":"","thin-12-6991c7":"","text-23":"",onClick:i[5]||(i[5]=i=>e.getCode(n.value))},x(m.value),1)])),_:1},8,["modelValue"])])])),P("div",{mblg:""},[P("div",{"text-25":"",mb4:""},"密码"),_(v,{modelValue:u.value,"onUpdate:modelValue":i[7]||(i[7]=e=>u.value=e)},null,8,["modelValue"])]),t.value?h("v-if",!0):(p(),I("div",{key:3,mblg:""},[P("div",{"text-25":"",mb4:""},"重复密码"),_(v,{modelValue:r.value,"onUpdate:modelValue":i[8]||(i[8]=e=>r.value=e)},null,8,["modelValue"])])),t.value?h("v-if",!0):(p(),I("div",{key:4,mblg:""},[P("div",{"text-25":"",mb4:""},"验证码"),_(S,{modelValue:l.value,"onUpdate:modelValue":i[9]||(i[9]=e=>l.value=e),mode:"box",space:0,maxlength:5,hairline:""},null,8,["modelValue"])]))]),P("div",{mt3xl:"",plg:"",flex:"","justify-between":""},[t.value?(p(),I("div",{key:0,"text-25":"","self-end":"","text-hex-1989C8":""},"忘记密码")):(p(),I("div",{key:1})),P("div",{"rounded-12":"","text-white":"",pysm:"",px3xl:"","bg-hex-6991c7":"",onClick:g},"提交")])])])])),_:1})}}}))));var Q,Y=F(Z,[["__scopeId","data-v-4fd6fbd5"]]);export{Y as default};

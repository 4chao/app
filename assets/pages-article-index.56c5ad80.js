var e=Object.defineProperty,t=(t,a)=>e(t,"name",{value:a,configurable:!0});import{d as a,o as l,a as s,r as i,b as n,c as o,w as d,n as r,l as u,p as c,x as p,y as v,_ as m,i as f,g as h,L as x,M as g,F as b,J as y,k as w,j as _,e as $,a0 as k,a1 as I,m as N,a2 as V,h as j,H as T,a3 as S}from"./index.645f1e0b.js";import{D,_ as B,i as C,a as O}from"./index.c880b164.js";import{_ as E,a as P}from"./sys.b3ee287c.js";const U={mounted(){console.log(this.$ownerInstance),new D(this.$ownerInstance.$el)},methods:{getId(...e){console.log(e)}}};var z=t((e=>{e.$renderjs||(e.$renderjs=[]),e.$renderjs.push("render"),e.mixins||(e.mixins=[]),e.mixins.push({beforeCreate(){this.render=this},mounted(){this.$ownerInstance=this.$gcd(this,!0)}}),e.mixins.push(U)}),"block0$1");const F=a({__name:"Droppable",props:{id:{default:"unknown"}},setup:e=>(t,a)=>(l(),s("div",{class:"droppable","data-id":e.id,relative:""},[i(t.$slots,"default",{},(()=>[n("div",{h30:""})]),!0),n("div",{contents:"",class:"normal"},[i(t.$slots,"normal",{},void 0,!0)]),n("div",{contents:"",class:"active"},[i(t.$slots,"active",{},void 0,!0)])],8,["data-id"]))});"function"==typeof z&&z(F);var L=E(F,[["__scopeId","data-v-196bf6be"]]);const R={name:"UniBadge",emits:["click"],props:{type:{type:String,default:"error"},inverted:{type:Boolean,default:!1},isDot:{type:Boolean,default:!1},maxNum:{type:Number,default:99},absolute:{type:String,default:""},offset:{type:Array,default:()=>[0,0]},text:{type:[String,Number],default:""},size:{type:String,default:"small"},customStyle:{type:Object,default:()=>({})}},data:()=>({}),computed:{width(){return 8*String(this.text).length+12},classNames(){const{inverted:e,type:t,size:a,absolute:l}=this;return[e?"uni-badge--"+t+"-inverted":"","uni-badge--"+t,"uni-badge--"+a,l?"uni-badge--absolute":""].join(" ")},positionStyle(){if(!this.absolute)return{};let e=this.width/2,t=10;this.isDot&&(e=5,t=5);const a=`${-e+this.offset[0]}px`,l=`${-t+this.offset[1]}px`,s={rightTop:{right:a,top:l},rightBottom:{right:a,bottom:l},leftBottom:{left:a,bottom:l},leftTop:{left:a,top:l}},i=s[this.absolute];return i||s.rightTop},dotStyle(){return this.isDot?{width:"10px",minWidth:"0",height:"10px",padding:"0",borderRadius:"10px"}:{}},displayValue(){const{isDot:e,text:t,maxNum:a}=this;return e?"":Number(t)>a?`${a}+`:t}},methods:{onClick(){this.$emit("click")}}};function G(e,t,a,s,n,h){const x=m,g=f;return l(),o(g,{class:"uni-badge--x"},{default:d((()=>[i(e.$slots,"default",{},void 0,!0),a.text?(l(),o(x,{key:0,class:r([h.classNames,"uni-badge"]),style:u([h.positionStyle,a.customStyle,h.dotStyle]),onClick:t[0]||(t[0]=e=>h.onClick())},{default:d((()=>[c(p(h.displayValue),1)])),_:1},8,["class","style"])):v("v-if",!0)])),_:3})}t(G,"_sfc_render");var H=E(R,[["render",G],["__scopeId","data-v-18bbf508"]]);var M=E(a({__name:"Toolbar",emits:["new-paragraph"],setup(e,{emit:t}){let a=h(!1);return(e,i)=>{const o=x(g("uni-badge"),H),r=B;return l(),s("div",{class:"toolbar"},[n("div",{class:"actions"},[a.value?(l(),s(b,{key:0},[n("div",{class:"publish"},[c(" 发布 "),n("div",{mlxs:""},[n("div",{"i-ri-share-forward-2-fill":""})])]),n("div",{class:"share"},[n("div",null,[n("div",{"i-ri-user-add-line":""})])])],64)):(l(),s("div",{key:1,"bg-white":"","flex-center":"",pxsm:"",prlg:""},[(l(),s(b,null,y(3,(e=>n("div",{key:e,"w-100":"","flex-center":""},[w(o,{size:"small",text:"10k",absolute:"rightTop",offset:[2,4],"max-num":NaN,"custom-style":{backgroundColor:"#fff",color:"#000",borderRadius:"0",padding:"0 4rpx"}},{default:d((()=>[1==e?(l(),s("div",{key:0,"i-ri-chat-3-line":"",w50:"",h50:""})):v("v-if",!0),2==e?(l(),s("div",{key:1,"i-ri-heart-3-line":"",w50:"",h50:""})):v("v-if",!0),3==e?(l(),s("div",{key:2,"i-ri-inbox-line":"",w50:"",h50:""})):v("v-if",!0)])),_:2},1024)]))),64))]))]),n("div",{w40:""}),w(r,{onOnPanend:i[0]||(i[0]=e=>t("new-paragraph",e))},{default:d((()=>[n("div",{class:"fab"},[n("div",{"i-fluent-add-28-regular":"",w59:"",h59:""})])])),_:1}),n("div",{class:"fabBack"},[n("div",null,[n("div",{"i-ri-close-line":"",w39:"",h39:""})])])])}}}),[["__scopeId","data-v-03aaa4e0"]]);C&&window,C&&window.document,C&&window.navigator,C&&window.location;const W="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},A="__vueuse_ssr_handlers__";var J,q;function K(e,a,l,s={}){var i,n,o;const{passive:d=!1,eventName:r,deep:u=!1,defaultValue:c}=s,p=k(),v=l||(null==p?void 0:p.emit)||(null==(i=null==p?void 0:p.$emit)?void 0:i.bind(p))||(null==(o=null==(n=null==p?void 0:p.proxy)?void 0:n.$emit)?void 0:o.bind(null==p?void 0:p.proxy));let m=r;a||(a="modelValue"),m=r||m||`update:${a.toString()}`;const f=t((()=>O(e[a])?e[a]:c),"getValue");if(d){const t=h(f());return _((()=>e[a]),(e=>t.value=e)),_(t,(t=>{(t!==e[a]||u)&&v(m,t)}),{deep:u}),t}return $({get:()=>f(),set(e){v(m,e)}})}W[A]=W[A]||{},W[A],(q=J||(J={})).UP="UP",q.RIGHT="RIGHT",q.DOWN="DOWN",q.LEFT="LEFT",q.NONE="NONE",t(K,"useVModel");const Q={mounted(){this.$ownerInstance.$el.addEventListener("keyup",(()=>{console.log("keyup",this.$ownerInstance.$el.innerText),this.$ownerInstance.callMethod("onInput",this.$ownerInstance.$el.innerText)}))}};var X=t((e=>{e.$renderjs||(e.$renderjs=[]),e.$renderjs.push("render"),e.mixins||(e.mixins=[]),e.mixins.push({beforeCreate(){this.render=this},mounted(){this.$ownerInstance=this.$gcd(this,!0)}}),e.mixins.push(Q)}),"block0");const Y=a({...{methods:{onInput(e){this.$emit("update:modelValue",e)}}},__name:"index",props:{modelValue:null,placeholder:{default:""}},emits:["update:modelValue"],setup(e,{emit:t}){const a=K(I(e,["placeholder"]),"modelValue",t);return(t,i)=>(l(),s("div",{placeholder:e.placeholder,class:"content",contenteditable:""},p(N(a)),9,["placeholder"]))}});"function"==typeof X&&X(Y);var Z=E(Y,[["__scopeId","data-v-eeadecee"]]);var ee=E(a({__name:"Paragraph",props:{context:null},setup(e){let t=h(!1);return V((()=>{t.value=e.context.new})),(a,i)=>(l(),s("div",{class:r(["paragraph",{new:t.value}])},p(e.context),3))}}),[["__scopeId","data-v-ad740a9c"]]);var te=E(a({__name:"Group",props:{context:null},setup(e){let t=h("");return j((()=>{console.log("group name",t.value)})),(a,i)=>{const d=Z;return l(),s("div",{class:"group",mbxl:""},[n("div",{"flex-center":"",px:"",relative:"",mb:""},[w(d,{modelValue:t.value,"onUpdate:modelValue":i[0]||(i[0]=e=>t.value=e),placeholder:"未命名分组","text-56":"","font-bold":""},null,8,["modelValue"]),n("div",{border:"t-dashed hex-e8e8e8","flex-1":"",mx:""}),n("div",{"i-ri-menu-4-line":"","text-56":"","text-gray":""})]),n("div",{contents:""},[(l(!0),s(b,null,y(e.context.paragraph,((e,t)=>(l(),o(ee,{key:t,context:e},null,8,["context"])))),128))])])}}}),[["__scopeId","data-v-858e387e"]]);var ae=E(a({__name:"index",setup(e){let t=h(!1),a=h("");const i=T([]);return(e,r)=>{const u=S,c=L,p=x(g("sys"),P);return l(),o(p,null,{fixed:d((()=>[w(M,{onNewParagraph:r[0]||(r[0]=e=>i.push({paragraph:[{new:!0}]}))})])),default:d((()=>[n("div",{"flex-center":""},[n("div",{pxy:""},[n("div",{"i-ri-arrow-left-line":""})]),n("div",{"flex-1":""}),n("div",{pxy:"","text-xs":"","text-gray":""},"自动保存成功"),n("div",{pxy:""},[n("div",{"i-ri-menu-line":""})])]),n("div",{pxy:"",mb:""},[w(u,{"auto-height":"",placeholder:"请输入标题",class:"textarea",maxlength:"400","placeholder-style":"color: #D5D5E0;"}),n("div",{relative:""},[t.value||a.value?v("v-if",!0):(l(),s("div",{key:0,absolute:"","inset-0":"","flex-center":"","justify-start":"","text-gray":"","bg-white":"","z-100":"",onClick:r[1]||(r[1]=e=>t.value=!0)},[n("div",{"i-ri-ball-pen-fill":""}),n("div",{mlxs:""},"添加描述")])),w(u,{modelValue:a.value,"onUpdate:modelValue":r[2]||(r[2]=e=>a.value=e),"auto-height":"",focus:t.value,onBlur:r[3]||(r[3]=e=>t.value=!1),onFocus:r[4]||(r[4]=e=>t.value=!0)},null,8,["modelValue","focus"])])]),i.length?v("v-if",!0):(l(),s("div",{key:0,mtxl:"",p60:""},[n("div",{class:"empty-target","flex-center":""},[w(c,{id:"empty-target",class:"empty-target-dropbox","flex-center":""},{normal:d((()=>[n("div",{"text-bluegray":""},"将"),n("div",{class:"fab","transform-scale-50":"","m--15":""},[n("div",{"i-fluent-add-28-regular":"",w70:"",h70:""})]),n("div",{"text-bluegray":""},"拖拽到此处, 添加你的第一个段落")])),active:d((()=>[n("div",{"text-bluegray":""},"在此释放, 添加你的第一个段落")])),_:1})])])),(l(!0),s(b,null,y(i,((e,t)=>(l(),o(te,{key:t,context:e},null,8,["context"])))),128))])),_:1})}}}),[["__scopeId","data-v-4eb5993d"]]);export{ae as default};
